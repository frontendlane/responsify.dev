---
import type { HTMLAttributes } from 'astro/types'
import classes from './Link.module.css'

type Href = `#${string}` | string

export type Props = HTMLAttributes<'a'> & {
	href: Href
}

const { class: className, href, ...props } = Astro.props
const isExternalLink = href.startsWith('http') || href.startsWith('//')
---

<!-- TODO: add classNames devDependency -->
<a
	{...props}
	class={`${className ? className : ''} ${classes.link}`}
	href={href}
	{...(isExternalLink ? {target: '_blank', rel: 'noopener noreferrer'} : {})}><slot /></a
>
